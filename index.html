<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>我决策 - Web 版</title>
	<style>
		/* 简单把 rpx 思路转成 rem/px，你可以自行微调 */
		:root {
			font-size: 16px;
		}

		* {
			box-sizing: border-box;
			margin: 0;
			padding: 0;
		}

		body {
			font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
			background: #f5f5f5;
			min-height: 100vh;
		}

		.container {
			display: flex;
			flex-direction: column;
			align-items: center;
			padding-top: 80px;
		}

		.wheel-container {
			position: relative;
			width: 320px;
			height: 320px;
			margin-bottom: 40px;
		}

		.wheel {
			position: absolute;
			width: 100%;
			height: 100%;
			border-radius: 50%;
			background: #00ff9d;
			border: 4px solid #333;
			overflow: hidden;
			box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
		}

		.wheel-section {
			position: absolute;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			transform-origin: 50% 50%;
			opacity: 1;
			transition: transform 4s cubic-bezier(0.25, 0.1, 0.25, 1);
			z-index: 2;
		}

		.sector1-label {
			position: absolute;
			top: 40px;
			left: 50%;
			transform: translateX(-50%);
			color: #ffffff;
			font-size: 18px;
			font-weight: bold;
			text-align: center;
		}

		.sector2-label {
			position: absolute;
			bottom: 40px;
			left: 50%;
			transform: translateX(-50%);
			color: #333333;
			font-size: 18px;
			font-weight: bold;
			text-align: center;
			z-index: 1;
		}

		.pointer {
			position: absolute;
			width: 100%;
			height: 100%;
			border-radius: 50%;
			transition: transform 4s cubic-bezier(0.25, 0.1, 0.25, 1);
			z-index: 5;
		}

		.pointer-triangle {
			position: absolute;
			top: 8px;
			left: 50%;
			transform: translateX(-50%);
			width: 0;
			height: 0;
			border-left: 12px solid transparent;
			border-right: 12px solid transparent;
			border-top: 32px solid #ff0000;
			filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.3));
		}

		.center-dot {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-35%, -40%);
			width: 20px;
			height: 20px;
			background: #333;
			border-radius: 50%;
			border: 3px solid #fff;
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
			z-index: 10;
		}

		.result {
			margin-top: 20px;
			font-size: 24px;
			color: #333;
		}

		.btn {
			display: inline-flex;
			align-items: center;
			justify-content: center;
			border-radius: 999px;
			border: none;
			cursor: pointer;
			font-size: 16px;
			transition: background-color 0.2s ease, color 0.2s ease, transform 0.1s ease;
		}

		.btn:active {
			transform: scale(0.96);
		}

		.config-btn {
			margin-top: 12px;
			width: 120px;
			height: 40px;
			background: #ffffff;
			color: #23df52;
			border: 1px solid #23df52;
		}

		.spin-btn {
			margin-top: 24px;
			width: 220px;
			height: 56px;
			background: #23df52;
			color: #fff;
			font-size: 20px;
		}

		.spin-btn[disabled] {
			background: #ccc;
			cursor: not-allowed;
		}

		.footer {
			margin-top: 40px;
			padding: 12px 24px;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 6px;
			opacity: 0.6;
			cursor: pointer;
			user-select: none;
		}

		.footer-text {
			font-size: 14px;
			color: #666;
			text-decoration: underline;
		}

		.footer-icon {
			font-size: 12px;
			color: #666;
		}
	</style>
</head>
<body>
	<div class="container">
		<!-- 转盘区域：你可以把 WXML 的结构逐步迁到这里 -->
		<div class="wheel-container">
			<div class="wheel">
				<div id="wheelSection" class="wheel-section">
					<div id="sector1Label" class="sector1-label">打游戏</div>
					<div id="sector2Label" class="sector2-label">干活</div>
				</div>
			</div>

			<div id="pointer" class="pointer">
				<div class="pointer-triangle"></div>
			</div>

			<div class="center-dot"></div>
		</div>

		<button id="configBtn" class="btn config-btn">修改</button>
		<button id="spinBtn" class="btn spin-btn">决策</button>

		<div id="result" class="result"></div>

		<div class="footer" id="githubLink">
			<span class="footer-text">开源代码 Kyunana097 @ GitHub</span>
			<span class="footer-icon">↗</span>
		</div>
	</div>

	<script>
		// === 基础 JS 状态：对应小程序 data 的一个简化版本 ===
		const state = {
			rotateAngle: 0,
			isSpinning: false,
			duration: 4000,
			sectorPercent: 30,
			sector1Text: '打游戏',
			sector2Text: '干活'
		};

		const wheelSection = document.getElementById('wheelSection');
		const pointer = document.getElementById('pointer');
		const spinBtn = document.getElementById('spinBtn');
		const resultEl = document.getElementById('result');
		const githubLink = document.getElementById('githubLink');

		// 简化版：只做一个“旋转 + 固定结果”示例，核心迁移逻辑你可以参考小程序 index.js 自行完善
		function updateSectorStyle() {
			wheelSection.style.transform = `rotate(${state.rotateAngle}deg)`;
		}

		function startSpin() {
			if (state.isSpinning) return;

			const minSpins = 5;
			const randomAngle = Math.floor(Math.random() * 270);
			const totalAngle = state.rotateAngle + minSpins * 360 + randomAngle;

			state.isSpinning = true;
			state.rotateAngle = totalAngle;
			resultEl.textContent = '';

			spinBtn.disabled = true;
			spinBtn.textContent = '决策中...';

			pointer.style.transform = `rotate(${state.rotateAngle}deg)`;
			updateSectorStyle();

			setTimeout(() => {
				state.isSpinning = false;
				spinBtn.disabled = false;
				spinBtn.textContent = '决策';
				// 这里直接固定结果为 sector1Text，对应小程序 calculateResult
				resultEl.textContent = state.sector1Text;
				// 彩纸动画、配置弹窗等你可以参考小程序 index.js 继续往下迁
			}, state.duration);
		}

		spinBtn.addEventListener('click', startSpin);

		githubLink.addEventListener('click', () => {
			window.open('https://github.com/Kyunana097/I_decide_web', '_blank');
		});

		// 初始样式
		updateSectorStyle();
	</script>
</body>
</html>
